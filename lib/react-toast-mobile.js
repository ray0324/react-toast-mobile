!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-transition-group"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","react-transition-group","prop-types"],e):"object"==typeof exports?exports.ReactToastMobile=e(require("react"),require("react-transition-group"),require("prop-types")):t.ReactToastMobile=e(t.React,t.ReactTransitionGroup,t.PropTypes)}(this,function(t,e,n){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=4)}([function(e,n){e.exports=t},function(t,e){t.exports=n},function(t,e,n){"use strict";n.d(e,"g",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return p}),n.d(e,"a",function(){return l}),n.d(e,"j",function(){return f});var o="@toast/loading/show",r="@toast/loading/hide",i="@toast/confirm/show",s="@toast/alert/show",a="@toast/notice/show",c="@toast/progress/show",u="@toast/progress/set",p="@toast/progress/done",l="@toast/clear",f=["确定","取消"]},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n(2),i=function(){function t(){o(this,t),this.registry={}}return t.prototype.on=function(t,e){void 0===this.registry[t]&&(this.registry[t]=[]),this.registry[t].push(e)},t.prototype.off=function(t,e){if(void 0!==this.registry[t])for(var n=this.registry[t],o=n.length;o--;)n[o]===e&&n.splice(o,1)},t.prototype.clearAllEvents=function(){this.registry={}},t.prototype.emit=function(t,e){if(void 0!==this.registry[t])for(var n=this.registry[t],o=0,r=n.length;o<r;o++)n[o].call(null,e)},t}(),s=new i,a={loading:function(t){return s.emit(r.g,t)},loaded:function(){return s.emit(r.b)},confirm:function(t){return s.emit(r.f,t)},alert:function(t){return s.emit(r.e,t)},notify:function(t){return s.emit(r.h,t)},progress:{start:function(t){return s.emit(r.i,t)},set:function(t){return s.emit(r.d,t)},done:function(t){s.emit(r.d,{text:t,progress:1}),setTimeout(function(){return s.emit(r.c)},200)}},clear:function(){return s.emit(r.a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),r=n(3);n.d(e,"T",function(){return r.b});var i=n(11);n.n(i);e.default=o.a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(6),u=(n.n(c),n(2)),p=n(3),l=n(7),f=n(8),d=n(9),m=n(10),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},b=function(t){function e(n){o(this,e);var i=r(this,t.call(this,n));return i.state={loading:{status:!1,msg:""},notices:[],modals:[],progress:{text:"",percent:0,status:!1}},i}return i(e,t),e.prototype.componentDidMount=function(){var t=this;p.a.on(u.g,function(e){t.setState({loading:{status:!0,msg:e}})}),p.a.on(u.b,function(){t.setState({loading:{status:!1,msg:""}})}),p.a.on(u.e,function(e){var n=t.state.modals;"object"===(void 0===e?"undefined":y(e))?n.push({id:h(),title:e.title,message:e.message,option:[{text:e.text||u.j[0],fn:e.fn}]}):n.push({id:h(),title:"",message:e,option:[{text:u.j[0]}]}),t.setState({loading:!1,modals:n})}),p.a.on(u.f,function(e){var n=t.state.modals;e.id=h(),n.push(e),t.setState({loading:!1,modals:n})}),p.a.on(u.h,function(e){var n=t.state.notices;n.push({id:h(),duration:2e3,message:e}),t.setState({loading:!1,notices:n})}),p.a.on(u.i,function(e){t.setState({progress:{status:!0,text:e,percent:0}})}),p.a.on(u.d,function(e){if("object"===(void 0===e?"undefined":y(e)))return void t.setState({progress:{status:!0,text:e.text||t.state.progress.text,percent:1}});t.setState({progress:{status:!0,text:t.state.progress.text,percent:e}})}),p.a.on(u.c,function(){t.setState({progress:{text:"",percent:0,status:!1}})}),p.a.on(u.a,function(){return t.setState({loading:!1,modals:[]})})},e.prototype.componentWillUnmount=function(){p.a.clearAllEvents()},e.prototype.closeModal=function(t){var e=this.state.modals.filter(function(e){return e.id!==t});this.setState({modals:e})},e.prototype.closeNotice=function(t){var e=this.state.notices.filter(function(e){return e.id!==t});this.setState({notices:e})},e.prototype._render=function(){if(this.state.modals.length>0){var t=this.state.modals[0];return a.a.createElement(f.a,{id:t.id,title:t.title,message:t.message,option:t.option,close:this.closeModal.bind(this)})}if(this.state.notices.length>0){var e=this.state.notices[0];return a.a.createElement(m.a,{id:e.id,close:this.closeNotice.bind(this),duration:e.duration,message:e.message})}return this.state.loading.status?a.a.createElement(l.a,this.state.loading):this.state.progress.status?a.a.createElement(d.a,this.state.progress):null},e.prototype.render=function(){var t=this._render();return a.a.createElement(c.TransitionGroup,null,t&&a.a.createElement(c.CSSTransition,{classNames:"react-toast",timeout:{enter:200,exit:200}},t))},e}(s.Component);e.a=b},function(t,n){t.exports=e},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(1),u=n.n(c),p=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){var t=this.props.msg,e="indicator "+(this.props.type||"black");return a.a.createElement("div",{className:"overlay overlay-indicator"},a.a.createElement("div",{className:e},a.a.createElement("i",{className:"spinner"}),t&&a.a.createElement("span",{className:"msg"},t)))},e}(s.Component);p.propTypes={status:u.a.bool,msg:u.a.string},p.defaultProps={status:!0,msg:""},e.a=p},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(1),u=n.n(c),p=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.title,o=e.message,r=e.option,i=e.close,s=2===r.length?"modal-button double":"modal-button";return a.a.createElement("div",{className:"overlay overlay-modal",onTouchMove:function(t){return t.preventDefault()}},a.a.createElement("div",{className:"modal"},a.a.createElement("div",{className:"modal-content-wrap"},n&&a.a.createElement("div",{className:"modal-title"},n),o&&a.a.createElement("div",{className:"modal-inner",dangerouslySetInnerHTML:{__html:o}})),a.a.createElement("div",{className:"modal-button-wrap"},r.map(function(e,n){return a.a.createElement("div",{key:n,className:s,onClick:function(){e.fn&&e.fn(),i(t.props.id)}},e.text)}))))},e}(s.Component);p.propTypes={id:u.a.string,title:u.a.string,message:u.a.oneOfType([u.a.string,u.a.number]),option:u.a.array},p.defaultProps={option:[]},e.a=p},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(1),u=n.n(c),p=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.text,n=t.percent;return n=(100*n).toFixed(1),a.a.createElement("div",{className:"overlay overlay-progress",onTouchMove:function(t){return t.preventDefault()}},a.a.createElement("div",{className:"progress-bar"},a.a.createElement("div",{className:"desc-text"},a.a.createElement("strong",null,e),a.a.createElement("span",null,n+"%")),a.a.createElement("div",{className:"progress-wrap"},a.a.createElement("div",{className:"progress",style:{width:n+"%"}}))))},e}(s.Component);p.propTypes={percent:u.a.oneOfType([u.a.number,u.a.string]),text:u.a.string},e.a=p},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n.n(s),c=n(1),u=n.n(c),p=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.componentDidMount=function(){var t=this;setTimeout(function(){t.props.close(t.props.id)},this.props.duration)},e.prototype.shouldComponentUpdate=function(t,e){return this.props.id!==t.id},e.prototype.componentWillUpdate=function(t,e){var n=this;setTimeout(function(){n.props.close(n.props.id)},this.props.duration)},e.prototype.render=function(){return a.a.createElement("div",{className:"notive-wrap"},a.a.createElement("div",{className:"notice"},this.props.message))},e}(s.Component);p.propTypes={id:u.a.string,message:u.a.oneOfType([u.a.string,u.a.number]),duration:u.a.number},e.a=p},function(t,e){}])});